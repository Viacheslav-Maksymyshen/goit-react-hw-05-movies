{"version":3,"file":"static/js/319.df382bc1.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MovieDetailsPage/MovieDetailsPage.module.css?377f","components/MovieDetailsPage/MovieDetailsPage.js","servises/MovieApiServise.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"MovieDetails\":\"MovieDetailsPage_MovieDetails__6TA03\",\"Button\":\"MovieDetailsPage_Button__-VRMo\",\"Information\":\"MovieDetailsPage_Information__PyC7J\",\"Information_title\":\"MovieDetailsPage_Information_title__WscOD\",\"Link\":\"MovieDetailsPage_Link__LqLBX\"};","import { useState, useEffect, lazy, Suspense } from 'react';\nimport {\n  NavLink,\n  Route,\n  Routes,\n  useParams,\n  useNavigate,\n  useLocation,\n} from 'react-router-dom';\nimport * as MovieApiServise from '../../servises/MovieApiServise';\nimport { Dna } from 'react-loader-spinner';\nimport notFound from '../../images/NotFound.png';\nimport style from './MovieDetailsPage.module.css';\nconst Cast = lazy(() => import('../Cast/Cast'));\nconst Reviews = lazy(() => import('../Reviews/Reviews'));\n\nexport default function MovieDetailsPage() {\n  const [movie, setMovie] = useState(null);\n  const { movieId } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    MovieApiServise.fetchDetailsMovie(movieId).then(response =>\n      setMovie(response)\n    );\n  }, [movieId]);\n\n  const onGoBack = () => {\n    navigate(location?.state?.from ?? '/');\n  };\n\n  return (\n    <>\n      {movie && (\n        <>\n          <button className={style.Button} type=\"button\" onClick={onGoBack}>\n            Go Back\n          </button>\n\n          <div className={style.MovieDetailsPage}>\n            <div className={style.MovieDetails}>\n              <div className={style.MovieDetails_img}>\n                <img\n                  src={\n                    movie.poster_path ? (\n                      `https://www.themoviedb.org/t/p/w300${movie.poster_path}`\n                    ) : (\n                      <img src={notFound} alt=\"Not Found\" />\n                    )\n                  }\n                  alt={movie.title}\n                />\n              </div>\n              <div className={style.Information}>\n                <h2 className={style.Information_title}>{`${\n                  movie.title\n                } (${movie.release_date.slice(0, 4)})`}</h2>\n                <span>{`User score: ${Math.trunc(\n                  movie.vote_average * 10\n                )}%`}</span>\n                <h2 className={style.Information_title}>Overview:</h2>\n                <p>{movie.overview}</p>\n                <h2 className={style.Information_title}>Genres:</h2>\n                <span>{movie.genres.map(({ name }) => name).join(', ')}</span>\n              </div>\n            </div>\n\n            <div>\n              <h3>Additional information</h3>\n              <ul>\n                <li className={style.Link}>\n                  <NavLink\n                    to={`cast`}\n                    state={{ from: location?.state?.from ?? null }}\n                  >\n                    Cast\n                  </NavLink>\n                </li>\n                <li className={style.Link}>\n                  <NavLink\n                    to={`reviews`}\n                    state={{ from: location?.state?.from ?? null }}\n                  >\n                    Reviews\n                  </NavLink>\n                </li>\n              </ul>\n            </div>\n\n            <Suspense\n              fallback={\n                <Dna\n                  visible={true}\n                  height=\"80\"\n                  width=\"80\"\n                  ariaLabel=\"dna-loading\"\n                  wrapperStyle={{}}\n                  wrapperClass=\"dna-wrapper\"\n                />\n              }\n            >\n              <Routes>\n                <Route path={`cast`} element={<Cast movieId={movieId} />} />\n\n                <Route\n                  path={`reviews`}\n                  element={<Reviews movieId={movieId} />}\n                />\n              </Routes>\n            </Suspense>\n          </div>\n        </>\n      )}\n    </>\n  );\n}\n","const API_KEY = '2bbca05b4a0698db2e0a185255a0cc70';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchPopularMovies(currentPage = 1) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}trending/movie/day?api_key=${API_KEY}&page=${currentPage}`\n  );\n}\n\nexport function fetchSearchMovies(query, currentPage = 1) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}&language=en-US&page=${currentPage}&include_adult=false`\n  );\n}\n\nexport function fetchDetailsMovie(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}movie/${movieId}?&api_key=${API_KEY}&language=en-US`\n  );\n}\n\nexport function fetchCastMovie(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n}\n\nexport function fetchReviewsMovie(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["Cast","lazy","Reviews","MovieDetailsPage","useState","movie","setMovie","movieId","useParams","navigate","useNavigate","location","useLocation","useEffect","MovieApiServise","then","response","className","style","type","onClick","state","from","src","poster_path","notFound","alt","title","release_date","slice","Math","trunc","vote_average","overview","genres","map","name","join","to","Suspense","fallback","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","path","element","API_KEY","BASE_URL","fetchWithErrorHandling","url","config","fetch","ok","json","Promise","reject","Error","fetchPopularMovies","currentPage","fetchSearchMovies","query","fetchDetailsMovie","fetchCastMovie","fetchReviewsMovie","asyncGeneratorStep","gen","resolve","_next","_throw","key","arg","info","value","error","done","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}