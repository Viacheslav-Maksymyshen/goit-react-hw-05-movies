{"version":3,"file":"static/js/141.73e71eb6.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MovieList/MovieList.module.css?6db5","components/MovieList/MovieList.js","webpack://goit-react-hw-05-movies/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.js","pages/MoviesPage/MoviesPage.js","servises/MovieApiServise.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"List\":\"MovieList_List__Qi16k\",\"Item\":\"MovieList_Item__EriSG\",\"Title\":\"MovieList_Title__T5U9i\",\"Link\":\"MovieList_Link__vD+MJ\"};","import { NavLink } from 'react-router-dom';\nimport notFoundPoster from '../../images/NotFoundPoster.jpg';\nimport style from './MovieList.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function MovieList({ movies, location }) {\n  return (\n    <ul className={style.List}>\n      {movies.map(movie => (\n        <li key={movie.id} className={style.Item}>\n          <NavLink\n            className={style.Link}\n            to={{ pathname: `/movies/${movie.id}` }}\n            state={{ from: location }}\n          >\n            <img\n              src={\n                movie.poster_path\n                  ? `https://www.themoviedb.org/t/p/w185${movie.poster_path}`\n                  : notFoundPoster\n              }\n              alt={movie.title}\n            />\n            <p className={style.Title}>{movie.title}</p>\n          </NavLink>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"Searchbar_Searchbar__5WKzV\",\"SearchForm\":\"Searchbar_SearchForm__XuPyK\",\"SearchForm_button\":\"Searchbar_SearchForm_button__OB9qt\",\"SearchImg\":\"Searchbar_SearchImg__8tFyn\",\"SearchForm_input\":\"Searchbar_SearchForm_input__50Ett\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { ImSearch } from 'react-icons/im';\nimport { toast } from 'react-toastify';\nimport style from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit, value }) {\n  const [searchQuery, setSearchQuery] = useState(value);\n\n  const handleNameChange = event => {\n    setSearchQuery(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (searchQuery.trim() === '') {\n      toast.info('Please enter a search query');\n    }\n    onSubmit(searchQuery.trim().toLowerCase());\n  };\n\n  return (\n    <div className={style.Searchbar}>\n      <form className={style.SearchForm} onSubmit={handleSubmit}>\n        <button className={style.SearchForm_button} type=\"submit\">\n          <span>\n            <ImSearch />\n            <span className={style.SearchImg}>Search</span>\n          </span>\n        </button>\n\n        <input\n          className={style.SearchForm_input}\n          type=\"text\"\n          value={searchQuery}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          onChange={handleNameChange}\n        />\n      </form>\n    </div>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport Searchbar from '../../components/Searchbar';\nimport MovieList from '../../components/MovieList';\nimport * as MovieApiServise from '../../servises/MovieApiServise';\nimport notFound from '../../images/NotFound.jpg';\nimport { toast } from 'react-toastify';\n\nexport default function MoviesPage() {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const queryParam = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (!queryParam) {\n      return;\n    }\n\n    MovieApiServise.fetchSearchMovies(queryParam).then(response => {\n      if (response.data.results.length > 0) {\n        setMovies(response.data.results);\n      } else {\n        setMovies([]);\n        return toast.info(\n          `Sorry, but nothing was found for the search query \"${queryParam}\"`\n        );\n      }\n    });\n  }, [queryParam]);\n\n  const changeQuery = value => {\n    setSearchParams(value !== '' ? { query: value } : {});\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={changeQuery} value={queryParam} />\n\n      {movies &&\n        (movies.length ? (\n          <MovieList location={location} movies={movies} />\n        ) : (\n          <img src={notFound} alt=\"Not Found\" />\n        ))}\n    </>\n  );\n}\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst API_KEY = '2bbca05b4a0698db2e0a185255a0cc70';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nasync function getData(url) {\n  try {\n    const response = await axios.get(url);\n    return response;\n  } catch (error) {\n    toast.error('Sorry, but there is no information about this movie.');\n  }\n}\n\nexport function fetchPopularMovies(currentPage = 1) {\n  const url = `${BASE_URL}trending/movie/day?api_key=${API_KEY}&page=${currentPage}`;\n  return getData(url);\n}\n\nexport function fetchSearchMovies(query, currentPage = 1) {\n  const url = `${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}&language=en-US&page=${currentPage}&include_adult=false`;\n  return getData(url);\n}\n\nexport function fetchDetailsMovie(movieId) {\n  const url = `${BASE_URL}movie/${movieId}?&api_key=${API_KEY}&language=en-US`;\n  return getData(url);\n}\n\nexport function fetchCastMovie(movieId) {\n  const url = `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`;\n  return getData(url);\n}\n\nexport function fetchReviewsMovie(movieId) {\n  const url = `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`;\n  return getData(url);\n}\n"],"names":["MovieList","movies","location","className","style","map","movie","to","pathname","id","state","from","src","poster_path","notFoundPoster","alt","title","Searchbar","onSubmit","value","useState","searchQuery","setSearchQuery","event","preventDefault","trim","toast","toLowerCase","type","autoComplete","autoFocus","placeholder","onChange","currentTarget","MoviesPage","setMovies","useSearchParams","searchParams","setSearchParams","useLocation","queryParam","get","useEffect","MovieApiServise","then","response","data","results","length","query","notFound","API_KEY","BASE_URL","getData","url","axios","fetchPopularMovies","currentPage","fetchSearchMovies","fetchDetailsMovie","movieId","fetchCastMovie","fetchReviewsMovie"],"sourceRoot":""}